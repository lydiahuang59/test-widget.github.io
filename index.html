<!DOCTYPE html><html lang="en" ng-app="widgetApp"><head>
    <meta charset="UTF-8">
    <title>Widget Api Presentation</title>
    <!-- grunt assets_inline task will embed content of workbench-widget-api.min.js into html -->
    <script>var Semaphore=function(exports){"use strict";var __assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function decycle(t){var n=[],s=[];return function t(e,r){var o,a,i;if("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)return e;for(o=0;o<n.length;o+=1)if(n[o]===e)return{$ref:s[o]};if(n.push(e),s.push(r),"[object Array]"===Object.prototype.toString.apply(e))for(i=[],o=0;o<e.length;o+=1)i[o]=t(e[o],r+"["+o+"]");else for(a in i={},e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=t(e[a],r+"["+JSON.stringify(a)+"]"));return i}(t,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}function hasOwnProperty(t,e){return t.hasOwnProperty(e)}var WorkbenchWidgetApi=(r.prototype.addEventListener=function(t,e){var r=this;return this._eventListeners.has(t)||this._eventListeners.set(t,new Set),this._eventListeners.get(t).add(e),function(){return r._eventListeners.get(t).delete(e)}},r.prototype.getKmmVersion=function(){var t=this._createMessage("getKmmVersion");return this._postMessage(t,1e3)},r.prototype.getKmmApiPath=function(){var t=this._createMessage("getKmmApiPath");return this._postMessage(t,1e3)},r.prototype.getKmmUiPath=function(){var t=this._createMessage("getKmmUiPath");return this._postMessage(t,1e3)},r.prototype.getStudioPath=function(){var t=this._createMessage("getStudioPath");return this._postMessage(t,1e3)},r.prototype.getStudioGraphQLPath=function(){var t=this._createMessage("getStudioGraphQLPath");return this._postMessage(t,1e3)},r.prototype.getCurrentWidgetId=function(){return this.WIDGET_ID},r.prototype.getStateParams=function(){var t=this._createMessage("getStateParams");return this._postMessage(t)},r.prototype.getContext=function(){var t=this._createMessage("getContext");return this._postMessage(t,1e3)},r.prototype.navigateToItem=function(t){t=this._createMessage("navigateToItem",{item:t});return this._postMessage(t)},r.prototype.closeWidget=function(t){t=this._createMessage("closeWidget",{},t);return this._postMessage(t)},r.prototype.openWidget=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=null);t=this._createMessage("openWidget",{config:e,context:r},t);return this._postMessage(t)},r.prototype.getClasses=function(t){return this._dataSourcesWithTaskUri("getClasses",t)},r.prototype.getAssociativeUnfilteredTypes=function(t){return this._dataSourcesWithTaskUri("getAssociativeUnfilteredTypes",t)},r.prototype.getAssociativeTypes=function(t,e){return this._dataSourcesWithTaskAndItemUri("getAssociativeTypes",t,e)},r.prototype.getBroaderUnfilteredTypes=function(t){return this._dataSourcesWithTaskUri("getBroaderUnfilteredTypes",t)},r.prototype.getBroaderTypes=function(t,e){return this._dataSourcesWithTaskAndItemUri("getBroaderTypes",t,e)},r.prototype.getNarrowerUnfilteredTypes=function(t){return this._dataSourcesWithTaskUri("getNarrowerUnfilteredTypes",t)},r.prototype.getNarrowerTypes=function(t,e){return this._dataSourcesWithTaskAndItemUri("getNarrowerTypes",t,e)},r.prototype.getModelLanguages=function(t){return this._dataSourcesWithModelUri("getModelLanguages",t)},r.prototype.getSemaphoreSettings=function(t){return this._dataSourcesWithTaskUri("getSemaphoreSettings",t)},r.prototype.getAltLabelUnfilteredProperties=function(t,e){return this._dataSourcesWithTaskAndItemUri("getAltLabelUnfilteredProperties",t,e)},r.prototype.getAltLabelProperties=function(t,e){return this._dataSourcesWithTaskAndItemUri("getAltLabelProperties",t,e)},r.prototype.getMetadataUnfilteredTypes=function(t,e){return this._dataSourcesWithTaskAndItemUri("getMetadataUnfilteredTypes",t,e)},r.prototype.getMetadataTypes=function(t,e){return this._dataSourcesWithTaskAndItemUri("getMetadataTypes",t,e)},r.prototype.getDetailsWithMetadata=function(t,e){return this._dataSourcesWithTaskAndItemUri("getDetailsWithMetadata",t,e)},r.prototype.getMetadataForDomain=function(t,e){return this._dataSourceWithItemAndDomainUri("getMetadataForDomain",t,e)},r.prototype.getConceptSchemes=function(t){return this._dataSourcesWithTaskUri("getConceptSchemes",t)},r.prototype.getConceptDetails=function(t,e){return this._dataSourcesWithTaskAndItemUri("getConceptDetails",t,e)},r.prototype.getConceptGuid=function(t,e){return this._dataSourcesWithTaskAndItemUri("getConceptGuid",t,e)},r.prototype.getConceptPrefLabels=function(t,e){return this._dataSourcesWithTaskAndItemUri("getConceptPrefLabels",t,e)},r.prototype.getConceptAltLabels=function(t,e){return this._dataSourcesWithTaskAndItemUri("getConceptAltLabels",t,e)},r.prototype.getConceptRelated=function(t,e,r,o){return void 0===r&&(r=10),void 0===o&&(o=0),this._dataSourcesWithTaskAndItemUriAndPaging("getConceptRelated",t,e,r,o)},r.prototype.getConceptNarrower=function(t,e,r,o){return void 0===r&&(r=10),void 0===o&&(o=0),this._dataSourcesWithTaskAndItemUriAndPaging("getConceptNarrower",t,e,r,o)},r.prototype.getConceptBroader=function(t,e,r,o){return void 0===r&&(r=10),void 0===o&&(o=0),this._dataSourcesWithTaskAndItemUriAndPaging("getConceptBroader",t,e,r,o)},r.prototype.getTopConcepts=function(t,e,r,o){return void 0===r&&(r=10),void 0===o&&(o=0),this._dataSourcesWithTaskAndItemUriAndPaging("getTopConcepts",t,e,r,o)},r.prototype._actionCall=function(t,e){e=this._createMessage("callAction",{action:t,data:e});return this._postMessage(e)},r.prototype._getBackendData=function(t,e){e=this._createMessage("getBackendData",{backendFunction:t,backendArguments:e});return this._postMessage(e)},r.prototype._dataSourcesWithTaskAndItemUri=function(t,e,r){return this._getBackendData(t,{taskGraphUri:e,itemUri:r})},r.prototype._dataSourcesWithTaskAndItemUriAndPaging=function(t,e,r,o,a){return this._getBackendData(t,{taskGraphUri:e,itemUri:r,limit:o,offset:a})},r.prototype._dataSourceWithItemAndDomainUri=function(t,e,r){return this._getBackendData(t,{taskGraphUri:e,domainUri:r})},r.prototype._dataSourcesWithTaskUri=function(t,e){return this._getBackendData(t,{taskGraphUri:e})},r.prototype._dataSourcesWithModelUri=function(t,e){return this._getBackendData(t,{modelGraphUri:e})},r.prototype._generateTag=function(){return this._postIndex++,this.WIDGET_ID+"_"+this._postIndex},r.prototype._createMessage=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=this.WIDGET_ID);var o=this._generateTag();return{type:"action",key:t,data:__assign(__assign({},this.withOnlyDefinedValues(e)),{widgetId:r,tag:o})}},r.prototype._handleResponseMessage=function(t){var e,r=null==t?void 0:t.tag;r&&this._promises.has(r)&&(e=this._promises.get(r),void 0!==t.results?e.resolve(retrocycle(t.results)):void 0!==t.reason?e.reject(retrocycle(t.reason)):this._logError("Response message need results or reason in data."),this._promises.delete(r))},r.prototype._handleEventMessage=function(t){var e=t.data;"object"==typeof e&&hasOwnProperty(e,"type")&&(null!==(t=this._eventListeners.get(e.type))&&void 0!==t?t:new Set).forEach(function(t){return t(e)})},r.prototype._logMessage=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.log.apply(console,t)},r.prototype._logError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.error.apply(console,t)},r);function r(t){var a=this;void 0===t&&(t=!1),this.debug=t,this.WIDGET_ID=decodeURIComponent(window.location.hash.substr(1).replace(/^\//,"").replace(/\+/g," ")),this._promises=new Map,this._eventListeners=new Map,this.actions={call:this._actionCall.bind(this),showFormAddPrefLabel:function(t,e,r){return void 0===r&&(r=!1),a._actionCall("showFormAddPrefLabel",{name:t,langCode:e,initialSave:Boolean(r)})},showFormAddAltLabel:function(t,e,r,o){return void 0===o&&(o=!1),a._actionCall("showFormAddAltLabel",{name:t,langCode:e,typeUri:r,initialSave:Boolean(o)})},showFormAddMultipleAltLabel:function(t,e,r,o){return void 0===o&&(o=!1),a._actionCall("showFormAddMultipleAltLabel",{names:t,langCode:e,typeUri:r,initialSave:Boolean(o)})},showFormAddMultipleTranslation:function(t,e){return void 0===e&&(e=!1),a._actionCall("showFormAddMultipleTranslation",{rows:t,initialSave:Boolean(e)})},showFormAddRelated:function(t,e,r,o){return void 0===o&&(o=!1),a._actionCall("showFormAddRelated",{typeUri:t,targetUri:e,targetName:r,initialSave:Boolean(o)})},showFormAddBroader:function(t,e,r,o){return void 0===o&&(o=!1),a._actionCall("showFormAddBroader",{typeUri:t,targetUri:e,targetName:r,initialSave:Boolean(o)})},showFormAddNarrower:function(t,e,r,o){return void 0===o&&(o=!1),a._actionCall("showFormAddNarrower",{typeUri:t,targetUri:e,targetName:r,initialSave:Boolean(o)})}},this.withOnlyDefinedValues=function(t){return Object.fromEntries(Object.entries(t).filter(function(t){return t[0],null!=t[1]}))},this._postIndex=0,this._postMessage=function(t,r){void 0===r&&(r=6e4);var o={};return o.promise=new Promise(function(t,e){o.resolve=t,o.reject=e,o.timeoutID=setTimeout(function(){e("Host response timeout")},r)}),o.promise.finally(function(){clearTimeout(o.timeoutID),a._promises.delete(t.data.tag)}),a._promises.set(t.data.tag,o),window.parent.postMessage(decycle(t),"*"),a._logMessage("postMessage",t,r),o.promise},this._receiveMessage=function(t){if(a._logMessage("receiveMessage",t),"object"==typeof t.data&&null!=t.data){var e=t.data;if(hasOwnProperty(e,"type")&&"string"==typeof e.type)switch(e.type){case"response":a._handleResponseMessage(t.data);break;case"event":a._handleEventMessage(t.data)}}},window.addEventListener("message",this._receiveMessage,!1),this._postMessage(this._createMessage("ready"))}return exports.WorkbenchWidgetApi=WorkbenchWidgetApi,exports.decycle=decycle,exports.retrocycle=retrocycle,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});</script>
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <link rel="stylesheet" href="https://bootswatch.com/lumen/bootstrap.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script>
      var widgetApp = angular.module("widgetApp", []);
      var api = new Semaphore.WorkbenchWidgetApi();
      widgetApp.controller("mainCtrl", function ($scope) {
        $scope.data = {};
        $scope.taskGraphUri = "...";
        $scope.goToConcept = "...";
        $scope.goToConceptScheme = "...";
        $scope.goToRelationship = "...";

        $scope.getCurrentTaskUri = function () {
          return api.getStateParams();
        };

        $scope.navigateToItem = function (item) {
          api.navigateToItem(item);
        };

        $scope.closeWidget = function () {
          api.closeWidget();
        };

        $scope.openWidget = function (targetWidgetId) {
          api.openWidget(targetWidgetId);
        };

        $scope.getBackendData = function (dataSource) {
          return dataSource.example().then(
            function success(results) {
              $scope.data[dataSource.name + "Results"] = Semaphore.decycle(
                results
              );
              $scope.$apply();
            },
            function error(reason) {
              $scope.data[dataSource.name + "Error"] = Semaphore.decycle(
                reason
              );
              $scope.$apply();
            }
          );
        };

        $scope.fetchTopConceptOf = function (conceptScheme) {
          api
            .getTopConcepts(
              $scope.stateParams.taskGraphUri,
              conceptScheme["@id"]
            )
            .then(function (results) {
              $scope.goToConcept = Object.assign(
                { "meta:transitiveType": ["skos:Concept"] },
                results["skos:hasTopConcept"][
                  Math.floor(
                    results["skos:hasTopConcept"].length * Math.random()
                  )
                ]
              );
              $scope.$apply();
            });
        };

        $scope.fetchInitialData = function () {
          api
            .getConceptSchemes($scope.stateParams.taskGraphUri)
            .then(function (results) {
              $scope.goToConceptScheme = Object.assign(
                { "meta:transitiveType": ["skos:ConceptScheme"] },
                results[Math.floor(results.length * Math.random())]
              );
              $scope.$apply();
              $scope.fetchTopConceptOf($scope.goToConceptScheme);
            });
          api
            .getNarrowerUnfilteredTypes($scope.stateParams.taskGraphUri)
            .then(function (results) {
              $scope.goToRelationship = Object.assign(
                {
                  "meta:transitiveType": ["rdf:Property"],
                  "meta:transitiveSubPropertyOf": [{ "@id": "skos:narrower" }],
                },
                results[Math.floor(results.length * Math.random())]
              );
              $scope.$apply();
            });
        };

        $scope.callAction = function () {
          var name = arguments[0];
          var params = Array.prototype.slice.call(arguments, 1);
          api.actions[name].apply(this, params);
        };
        $scope.getValueForProperty = function(propertyURI) {
          api
            .getDetailsWithMetadata($scope.stateParams.taskGraphUri,$scope.stateParams.itemUri)
            .then(function (results) {
              if(results[propertyURI]) {
                $scope.data["propertyResults"] = results[propertyURI]
              }
              $scope.$apply();
            });
        }

        $scope.getCurrentTaskUri().then(function (stateParams) {
          $scope.stateParams = stateParams;
          prepareDataSources();
          $scope.fetchInitialData();
          $scope.$apply();
        });
        $scope.checkForErrorsInMetadata = function() {
          api
            .getDetailsWithMetadata($scope.stateParams.taskGraphUri,$scope.stateParams.itemUri)
            .then(function (results) {
              if(results["https://ontology.etsycorp.com/Listing/metadata#isAttributeAbstract"] == "true") {
                $scope.data["validationResults"] = "ERROR: Attribute is abstract"
              } else {
                $scope.data["validationResults"] = null
              }
              $scope.$apply();
            });

        }
        api.addEventListener("CONCEPT_UPDATED", function (data) {
          $scope.checkForErrorsInMetadata()
        });

        function prepareDataSources() {
          var config = {
              showLoadingOverlay: false,
            },
            dataSourceWithItemUri = [
              "getAssociativeTypes",
              "getAltLabelProperties",
              "getAltLabelUnfilteredProperties",
              "getBroaderTypes",
              "getMetadataTypes",
              "getNarrowerTypes",
            ],
            dataSourceWithItemAndDomainUri = ["getMetadataForDomain"],
            dataSourcesWithTaskUri = ["getConceptSchemes"],
            dataSourcesWithTaskAndItemUri = [
              "getConceptDetails",
              "getConceptGuid",
              "getConceptPrefLabels",
              "getDetailsWithMetadata",
              "getConceptAltLabels",
            ],
            dataSourcesWithTaskAndItemUriAndPaging = [
              "getConceptRelated",
              "getConceptNarrower",
              "getConceptBroader",
              "getTopConcepts",
            ];
          $scope.dataSources = [];
          dataSourceWithItemUri.forEach(function (dataSource) {
            $scope.dataSources.push({
              name: dataSource,
              help: "api." + dataSource + "(itemUri)",
              example: function () {
                return api[dataSource]($scope.stateParams.taskGraphUri, $scope.stateParams.itemUri);
              },
            });
          });
          dataSourcesWithTaskAndItemUri.forEach(function (dataSource) {
            $scope.dataSources.push({
              name: dataSource,
              help: "api." + dataSource + "(taskGraphUri, itemUri)",
              example: function () {
                return api[dataSource](
                  $scope.stateParams.taskGraphUri,
                  $scope.stateParams.itemUri
                );
              },
            });
          });
          dataSourcesWithTaskAndItemUriAndPaging.forEach(function (dataSource) {
            $scope.dataSources.push({
              name: dataSource,
              help:
                "api." + dataSource + "(taskGraphUri, itemUri, limit, offset)",
              example: function () {
                return api[dataSource](
                  $scope.stateParams.taskGraphUri,
                  $scope.stateParams.itemUri,
                  5,
                  0
                );
              },
            });
          });
          dataSourceWithItemAndDomainUri.forEach(function (dataSource) {
            $scope.dataSources.push({
              name: dataSource,
              help: "api." + dataSource + "(taskGraphUri, domainUri)",
              example: function () {
                return api[dataSource](
                  $scope.stateParams.taskGraphUri,
                  "skos:Concept"
                );
              },
            });
          });
          dataSourcesWithTaskUri.forEach(function (dataSource) {
            $scope.dataSources.push({
              name: dataSource,
              help: "api." + dataSource + "(taskGraphUri)",
              example: function () {
                return api[dataSource]($scope.stateParams.taskGraphUri);
              },
            });
          });
        }
      });
    </script>
  </head>
  <body ng-controller="mainCtrl" class="container">
    <header class="header bg-info">
      <div class="row">
        <div class="col-xs-10">
          <p class="m-t"></p>
        </div>
        <div class="col-xs-2 text-right">
          <a class="close m-t" uib-tooltip="Close" tooltip-placement="bottom" ng-click="closeWidget();">×</a>
        </div>
      </div>
    </header>
    <h1>Demo Widget</h1>

    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default">
        <div class="panel-heading" role="tab">
          <h4 class="panel-title">
            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#getUri" aria-expanded="true" aria-controls="getUri">
              Get current modelGraphUri, taskGraphUri and itemUri
            </a>
          </h4>
        </div>
        <div id="getUri" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            <dl class="dl-horizontal">
              <dt>modelGraphUri</dt>
              <dd>
                <span class="label label-success">{{ stateParams.modelGraphUri }}</span>
              </dd>
              <dt>taskGraphUri</dt>
              <dd>
                <span class="label label-success">{{ stateParams.taskGraphUri }}</span>
              </dd>
              <dt>itemUri</dt>
              <dd>
                <span class="label label-success">{{ stateParams.itemUri }}</span>
              </dd>
            </dl>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingTwo">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Get data api
            </a>
          </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            <div ng-repeat="dataSource in dataSources">
              <h3>
                {{ dataSource.name }}
                <button class="btn btn-xs" ng-click="dataSource.showExample = !dataSource.showExample">
                  example
                </button>
              </h3>
              <pre class="bg-info" ng-if="dataSource.showExample">{{ dataSource.help   | json }}</pre>
              <button class="btn btn-primary btn-xs" ng-click="getBackendData(dataSource)">
                load real data
              </button>
              <pre ng-if="data[dataSource.name + 'Results']" style="max-height: 250px" class="bg-success">{{ data[dataSource.name + "Results"]  | json }}</pre>
              <pre ng-if="data[dataSource.name + 'Error']" class="bg-danger">{{ data[dataSource.name + "Error"]  | json}}</pre>
            </div>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingThree">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Send command api
            </a>
          </h4>
        </div>
        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            <h3>Navigate to item</h3>

            <div>
              <h2>random concept</h2>
              <pre style="height: 100px">{{ goToConcept | json }}</pre>
              <button ng-click="navigateToItem(goToConcept)" class="btn btn-xs">
                go to concept
              </button>
            </div>
            <div>
              <h2>random concept scheme</h2>
              <pre style="height: 100px">{{ goToConceptScheme | json }}</pre>
              <button ng-click="navigateToItem(goToConceptScheme)" class="btn btn-xs">
                go to concept scheme
              </button>
            </div>
            <div>
              <h2>random relationship</h2>
              <pre style="height: 100px">{{ goToRelationship | json }}</pre>
              <button ng-click="navigateToItem(goToRelationship)" class="btn btn-xs">
                go to relationship
              </button>
            </div>
            <hr>
            <hr>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingFour">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              Call action api
            </a>
          </h4>
        </div>
        <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            <h3>Call action api</h3>

            <div>
              <h2>Add Pref label</h2>
              <input type="text" ng-model="prefLabelName" placeholder="name">
              <input type="text" ng-model="prefLabelLang" placeholder="lang code">
              <button id="showFormAddPrefLabel" ng-click="callAction('showFormAddPrefLabel', prefLabelName, prefLabelLang)" class="btn btn-xs">
                open
              </button>
            </div>
            <div>
              <h2>Add Alt label</h2>
              <input type="text" ng-model="altLabelName" placeholder="name">
              <input type="text" ng-model="altLabelLang" placeholder="lang code">
              <input type="text" ng-model="altTypeUri" placeholder="type uri">
              <button id="showFormAddAltLabel" ng-click="callAction('showFormAddAltLabel', altLabelName, altLabelLang, altTypeUri)" class="btn btn-xs">
                open
              </button>
            </div>
            <div>
              <h2>Add Multiple Alt label</h2>
              <textarea ng-model="altMultiLabelName" placeholder="Labels (One per row)"></textarea>
              <input type="text" ng-model="altMultiLabelLang" placeholder="lang code">
              <input type="text" ng-model="altMultiLabelType" placeholder="type uri">
              <button id="showFormAddMultipleAltLabel" ng-click="callAction('showFormAddMultipleAltLabel', altMultiLabelName.split('\n'), altMultiLabelLang, altMultiLabelType)" class="btn btn-xs">
                open
              </button>
            </div>

            <div>
              <h2>Add Related</h2>
              <input type="text" ng-model="relatedTypeUri" placeholder="type uri">
              <input type="text" ng-model="relatedTargetUri" placeholder="target uri">
              <input type="text" ng-model="relatedTargetName" placeholder="target name">
              <button id="showFormAddRelated" ng-click="callAction('showFormAddRelated', relatedTypeUri, relatedTargetUri, relatedTargetName)" class="btn btn-xs">
                open
              </button>
            </div>
            <div>
              <h2>Add Broader</h2>
              <input type="text" ng-model="broaderTypeUri" placeholder="type uri">
              <input type="text" ng-model="broaderTargetUri" placeholder="target uri">
              <input type="text" ng-model="broaderTargetName" placeholder="target name">
              <button id="showFormAddBroader" ng-click="callAction('showFormAddBroader', broaderTypeUri, broaderTargetUri, broaderTargetName)" class="btn btn-xs">
                open
              </button>
            </div>
            <div>
              <h2>Add Narrower</h2>
              <input type="text" ng-model="narrowerTypeUri" placeholder="type uri">
              <input type="text" ng-model="narrowerTargetUri" placeholder="target uri">
              <input type="text" ng-model="narrowerTargetName" placeholder="target name">
              <button id="showFormAddNarrower" ng-click="callAction('showFormAddNarrower', narrowerTypeUri, narrowerTargetUri, narrowerTargetName)" class="btn btn-xs">
                open
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingFive">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
              Test demo
            </a>
          </h4>
        </div>
        <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
          <div class="panel-body">
            <div>
              <h3>Get Metadata field</h3>
              <input type="text" ng-model="propertyURI" placeholder="field URI">
              <button class="btn btn-primary btn-xs" ng-click="getValueForProperty(propertyURI)">load data</button>
              <pre ng-if="data['propertyResults']" style="max-height: 250px;">{{ data["propertyResults"] | json }}</pre>
              <pre ng-if="data['propertyError']" class="bg-danger">{{ data["propertyError"]  | json}}</pre>
            </div>
            <div>
              <h3>Validation Errors</h3>
              <pre ng-if="data['validationResults']" style="max-height: 250px;" class="bg-danger">{{ data["validationResults"] | json }}</pre>
            </div>
            <div>
              <h3>Add Scale Relationship to</h3>
              <input type="text" ng-model="targetUri" placeholder="target uri">
              <button id="showAddScaleRelationshipTo" ng-click="callAction('showFormAddRelated', 'https://ontology.etsycorp.com/Listing/relationship#DiscreteScaleAttributeHasScale', targetUri, '', true); callAction('showFormAddRelated', 'https://ontology.etsycorp.com/Listing/relationship#DiscreteScaleAttributeHasScale', 'https://ontology.etsycorp.com/Testing/Listing#DE-DE-RingSize-23', '', true)" class="btn btn-xs">
                Add
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  

</body></html>